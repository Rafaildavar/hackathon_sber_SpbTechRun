:root{
    /* Палитра Белые ночи */
    --primary: #1D4F82;
    --bg: #F4F6FB;
    --panel: #FFFFFF; /* поверхности */
    --card: #FFFFFF;
    --muted: #6B7280;
    --muted-rgb: 107,114,128;
    --text: #111827;
    --text-rgb: 17,24,39;
    --accent: #1D4F82;
    --accent-red: #ff1900;
    --accent2: #2E7D6F;
    --primary-rgb: 29,79,130;
    --accent2-rgb: 46,125,111;
    --msg-user: #2E7D6F; /* use accent2 for positive/user */
    --msg-user-text: #ffffff;
    --msg-assist: #FFFFFF;
    --glass: rgba(0,0,0,0.04);
    --border: #D1D5DB;
    --radius: 10px;
    --gap: 12px;
    --font-size: 18px;
    --line-height: 1.6;
}


*{
    box-sizing:border-box
}

html,body{
    height:100%
}

body{
    margin:0;
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial;
    background: var(--bg);
    background-position: 50% 0%;
    color: var(--text);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    font-size: var(--font-size);
    line-height: var(--line-height);
}

/* Layout */
.app{
    display:flex;
    height:100vh;
    gap:20px;
    padding:20px;
}

.sidebar{
    width:300px;
    background: var(--card);
    border-radius:var(--radius);
    padding:16px;
    display:flex;
    flex-direction:column;
    gap:var(--gap);
    min-width:220px;
    border: 1px solid var(--border);
}

.brand{
    display:flex;
    align-items:center;
    gap:10px;
    font-weight:700;
}

/* Картинка рядом с названием в сайдбаре */
.brand-img{
    width:40px;
    height:40px;
    border-radius:8px;
    object-fit:cover;
    display:inline-block;
}

/* Центрируем основные блоки чата и ограничиваем ширину для удобства чтения */
.chat-header, .messages, .input-area{
    max-width: 900px;
    width: 100%;
    margin-left: auto;
    margin-right: auto;
}

.new-chat{
    background:var(--glass);
    border:1px solid var(--border);
    padding:10px;
    border-radius:8px;
    cursor:pointer;
    color:var(--muted);
    display:flex;
    gap:8px;
    align-items:center;
    font-weight:600;
}

.new-chat:hover{
    border:1px solid var(--accent2);
    color:var(--accent2);
}

.history{
    overflow:auto;
    padding-right:8px;
    margin-top:6px;
    display:flex;
    flex-direction:column;
    gap:8px
}

.history button{
    background:transparent;
    border:none;color:var(--muted);
    text-align:left;
    padding:10px;
    border-radius:8px;
    cursor:pointer;
    transition:background .12s, color .12s;
}

.history button:hover{
    background: rgba(var(--primary-rgb),0.06);
    color: var(--card);
}

/* Main chat */
.main{
    flex:1;
    display:flex;
    flex-direction:column;
    border-radius:12px;
    overflow:hidden;
    background: var(--card);
    border: 1px solid var(--border);
}

.chat-header{
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:16px 20px;
    border-bottom:1px solid var(--border)
}

.title{
    font-weight:700;
    font-size:1.05rem
}

/* Messages */
.messages{
    flex:1;
    overflow:auto;
    padding:24px;
    display:flex;
    flex-direction:column;
    gap:12px;
    scrollbar-width:thin;
    -webkit-overflow-scrolling:touch;
}

.msg{
    max-width:78%;
    padding:16px 18px;
    border-radius:12px;
    line-height:1.6;
    box-shadow: 0 1px 0 rgba(var(--text-rgb),0.02) inset;
    word-wrap:break-word;
    white-space:pre-wrap;
    font-size: 1.08rem; /* slightly larger messages for readability */
}

/* Assistant / user bubbles */
.msg.assistant{
    align-self:flex-start;
    align-self:flex-start;
    background: var(--card);
    border:1px solid var(--border);
    color: var(--text);
}

.msg.user{
    align-self:flex-end;
    background: var(--msg-user);
    color: var(--msg-user-text);
    border: 1px solid rgba(var(--text-rgb),0.06);
}

/* Emphasize code blocks inside messages */
.msg pre, .msg code {
    background: rgba(var(--text-rgb),0.06);
    padding:8px;
    border-radius:8px;
    overflow:auto;
    font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", "Courier New", monospace;
    font-size: .9rem;
}

/* Input area */
.input-area{
    padding:16px;
    border-top:1px solid var(--border);
    display:flex;
    gap:12px;
    align-items:center;
    justify-content:space-between;
}

textarea{
    flex:1;
    min-height:56px;
    max-height:100px;
    padding:12px;
    border-radius:20px;
    background:transparent;
    border:1px solid var(--border);
    color:inherit;
    resize:none;
    font-size:1rem;
    line-height:1.5;
    margin-right:8px;
}

textarea::placeholder{
    color: var(--muted);
}

textarea:focus{
    outline:none;
    box-shadow:0 0 0 5px rgba(var(--primary-rgb),0.06);
    border-color: var(--accent2);
}

.file-btn, .voice-btn, .send-btn{
    /* Круглые кнопки одинакового размера */
    width:44px;
    height:44px;
    padding:0;
    border-radius:50%;
    background:transparent;
    border:1px solid var(--primary);
    color:var(--muted);
    cursor:pointer;
    font-weight:700;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    font-size:18px;
}

.file-btn:hover, .voice-btn:hover, .send-btn:hover{
    background:var(--accent2);
    border-color: var(--accent2);
    color: var(--card);
}

/* Кнопка удаления диалога в заголовке */
.header-actions{
    display:flex;
    gap:8px;
    align-items:center;
}
.delete-btn{
    width:40px;
    height:40px;
    padding:0;
    border-radius:50%;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    background:transparent;
    border:1px solid var(--accent-red);
    color:var(--muted);
    cursor:pointer;
    font-size:18px;
}
.delete-btn:hover{
    background: var(--accent-red);
    border-color: var(--accent-red);
    color: var(--accent-red);
}

.send-btn{
    background:var(--accent);
    color:var(--msg-user-text);
    border:none;
}

.voice-btn.recording{
    background: var(--accent2);
    border-color: var(--accent2);
    color: var(--card);
}

.send-btn[disabled]{
    opacity:.6;
    cursor:default;
}

/* Small screens: stack, make sidebar collapsible */
@media (max-width:900px){
    .app{padding:12px}
    .sidebar{display:none}
    .messages{padding:16px}
    .msg{max-width:100%}
}

/* Simple scrollbar */
.messages::-webkit-scrollbar, .history::-webkit-scrollbar{
    width:10px;height:10px
}

.messages::-webkit-scrollbar-thumb, .history::-webkit-scrollbar-thumb{
    background: rgba(var(--primary-rgb),0.08);
    border-radius:8px;
}